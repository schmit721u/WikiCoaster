<?php

namespace App\Controller;

use Symfony\Bundle\FrameworkBundle\Controller\AbstractController;
use Symfony\Component\HttpFoundation\Response;
use Symfony\Component\Routing\Attribute\Route;
use Doctrine\ORM\EntityManagerInterface;
// Assurez-vous d'avoir une entité 'Coaster' dans 'App\Entity'
use App\Entity\Coaster; 
use App\Form\CoasterType;
use Symfony\Component\HttpFoundation\Request;

class CoasterController extends AbstractController
{
    /**
     * Une route de base pour l'index du CoasterController
     */
    #[Route(path :'/coaster/new', name: 'app_coaster_index')]
    
    public function add(EntityManagerInterface $em): Response
{
    $coaster = new Coaster();
    $coaster->setName('Sapce');
    $coaster->setLength(600);
    $coaster->setMaxSpeed(75);
    $coaster->setMaxHeight(68);
    $coaster->setOperating(true);

    $em->persist($coaster);

    $em->flush();

    return new Response('Coaster ajouté!');
}

}

