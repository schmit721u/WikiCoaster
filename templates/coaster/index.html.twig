{% extends 'base.html.twig' %}

{% block body %}
<h1>Liste des Coasters</h1>
<a href="{{ path('app_coaster_add') }}" class="btn btn-success">Ajouter un coaster</a>

<form action="" methode="GET" class="flex">
  <select name="park" class="select">
    <option value=""> Tous les parcs </option>
    {% for park in parks %} 
    <option value="{{park.id}}">{{park.name}}</option>
    {% endfor %}
  </select>

  <select name="categorie" class="categories">
    <option value=""> Tous les parcs </option>
    {% for category in categories %} 
    <option value="{{category.id}}">{{category.name}}</option>
    {% endfor %}



</form>

<div class="overflow-x-auto">
  <table class="table">
    <!-- head -->
    <thead>
      <tr>
        <th>Nom</th>
        <th>Parc</th>
        <th>Categories</th>
        <th>Longueur</th>
        <th>Vit. Max.</th>
        <th>Haut. Max.</th>
        <th>En fonction</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      {% for entity in entities %}
      {# tr>td*6 #}
        <tr>
            <td><strong>{{ entity.name }}</strong></td>
            <td>{{ entity.park }}</td>
            <td>
              {% for category in entity.categories %}
                <span class="bagde text_white" style="background-color: {{ category.color }}">{{category.name}}</span>
                {% endfor %}
            </td>
            <td>{{ entity.length }}</td>
            <td>{{ entity.maxSpeed }}</td>
            <td>{{ entity.maxHeight }}</td>
            <td>{{ entity.operating ? 'ðŸŸ¢â€‹':'ðŸ”´â€‹' }}</td>
            <td>
              <a href="{{ path('app_coaster_edit', {id: entity.id}) }}" class="btn btn-accent btn-sm">Modif.</a>
              <a href="{{ path('app_coaster_delete', {id: entity.id}) }}" class="btn btn-warning btn-sm">Supprimer.</a>
            </td>
        </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}